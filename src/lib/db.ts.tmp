  // User-related methods
  static async createUser(user: User): Promise<void> {
    await db.users.add(user);
  }

  static async getUserByEmail(email: string): Promise<User | undefined> {
    return db.users.where('email').equals(email).first();
  }

  static async getUserById(id: string): Promise<User | undefined> {
    return db.users.get(id);
  }

  static async updateUser(id: string, updates: Partial<User>): Promise<void> {
    await db.users.update(id, updates);
  }

  static async setVerificationType(userId: string, type: 'DOCUMENT' | 'DIGILOCKER'): Promise<void> {
    await db.users.update(userId, {
      verificationType: type,
      updatedAt: new Date()
    });
  }
